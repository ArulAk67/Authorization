{"ast":null,"code":"import _objectSpread from\"A:/MERN/login_signup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"A:/MERN/login_signup/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"A:/MERN/login_signup/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"A:/MERN/login_signup/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Link,Navigate,useNavigate}from'react-router-dom';import styles from'../styles/Username.module.css';import toast,{Toaster}from'react-hot-toast';import{useFormik}from'formik';import{resetPasswordValidation}from'../helper/validate';import{useAuthStore}from'../store/store';import useFetch from'../hooks/fetch.hook';import{resetPassword}from'../helper/helper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Reset(){var _useAuthStore=useAuthStore(function(state){return state.auth;}),username=_useAuthStore.username;var navigate=useNavigate();var _useFetch=useFetch('createResetSession'),_useFetch2=_slicedToArray(_useFetch,1),_useFetch2$=_useFetch2[0],isLoading=_useFetch2$.isLoading,apiData=_useFetch2$.apiData,status=_useFetch2$.status,serverError=_useFetch2$.serverError;var formik=useFormik({initialValues:{password:\"\",confirm_pwd:\"\"},validate:resetPasswordValidation,validateOnBlur:false,validateOnChange:false,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var resetPromise;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(values);resetPromise=resetPassword({username:username,password:values.password});toast.promise(resetPromise,{loading:'Updating...',success:/*#__PURE__*/_jsx(\"b\",{children:\"Reset Successfully...!\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not Reset!\"})});resetPromise.then(function(){navigate('/password');});case 4:case\"end\":return _context.stop();}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});if(isLoading)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"isLoading\"});if(serverError)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl text-red-500\",children:serverError.message});if(status&&status!==201)return/*#__PURE__*/_jsx(Navigate,{to:'/password',replace:true});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"Enter new password.       \"})]}),/*#__PURE__*/_jsx(\"form\",{className:\"py-20\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps(\"password\")),{},{className:styles.textbox,type:\"text\",placeholder:\"New Password\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps(\"confirm_pwd\")),{},{className:styles.textbox,type:\"text\",placeholder:\"confirm Password\"})),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Reset\"})]})})]})})]});}export default Reset;","map":{"version":3,"names":["React","Link","Navigate","useNavigate","styles","toast","Toaster","useFormik","resetPasswordValidation","useAuthStore","useFetch","resetPassword","jsx","_jsx","jsxs","_jsxs","Reset","_useAuthStore","state","auth","username","navigate","_useFetch","_useFetch2","_slicedToArray","_useFetch2$","isLoading","apiData","status","serverError","formik","initialValues","password","confirm_pwd","validate","validateOnBlur","validateOnChange","onSubmit","_onSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","resetPromise","wrap","_callee$","_context","prev","next","console","log","promise","loading","success","children","error","then","stop","_x","apply","arguments","className","message","to","replace","position","reverseOrder","glass","handleSubmit","_objectSpread","getFieldProps","textbox","type","placeholder","btn"],"sources":["A:/MERN/login_signup/client/src/components/Reset.js"],"sourcesContent":["import React from 'react'\r\nimport { Link, Navigate, useNavigate } from 'react-router-dom';\r\n\r\nimport styles from '../styles/Username.module.css';\r\nimport toast, {Toaster} from 'react-hot-toast';\r\nimport {useFormik} from 'formik';\r\nimport { resetPasswordValidation} from '../helper/validate';\r\nimport { useAuthStore } from '../store/store';\r\nimport useFetch from '../hooks/fetch.hook';\r\nimport { resetPassword } from '../helper/helper';\r\n\r\n\r\nfunction Reset() {\r\n\r\n  const { username } = useAuthStore(state => state.auth);\r\n  const navigate = useNavigate();\r\n  const [{ isLoading, apiData, status, serverError }] = useFetch('createResetSession')\r\n\r\n\r\n  const formik =useFormik({\r\n    initialValues:{\r\n      password:\"\",\r\n      confirm_pwd:\"\"\r\n    },\r\n    validate: resetPasswordValidation,\r\n    validateOnBlur:false,\r\n    validateOnChange:false,\r\n    onSubmit : async values =>{\r\n      console.log(values)\r\n      let resetPromise = resetPassword({ username, password: values.password })\r\n\r\n      toast.promise(resetPromise, {\r\n        loading: 'Updating...',\r\n        success: <b>Reset Successfully...!</b>,\r\n        error : <b>Could not Reset!</b>\r\n      });\r\n\r\n      resetPromise.then(function(){ navigate('/password') })\r\n    }\r\n  })\r\n\r\n  if(isLoading) return <h1 className='text-2xl font-bold'>isLoading</h1>;\r\n  if(serverError) return <h1 className='text-xl text-red-500'>{serverError.message}</h1>\r\n  if(status && status !== 201) return <Navigate to={'/password'} replace={true}></Navigate>\r\n\r\n\r\n  return (\r\n    <div className='container mx-auto'>\r\n      \r\n      <Toaster position='top-center' reverseOrder={false}></Toaster>\r\n\r\n      <div className='flex justify-center items-center h-screen'>\r\n        <div className={styles.glass}>\r\n          <div className='title flex flex-col items-center'>\r\n             <h4 className='text-5xl font-bold'>Reset</h4>\r\n             <span className='py-4 text-xl w-2/3 text-center text-gray-500'>\r\n                    Enter new password.       </span>\r\n          </div>\r\n          <form className='py-20' onSubmit={formik.handleSubmit}>\r\n            \r\n            <div className='textbox flex flex-col items-center gap-6'>\r\n              <input {...formik.getFieldProps(\"password\")} className={styles.textbox} type='text' placeholder='New Password'/>\r\n      \r\n              <input {...formik.getFieldProps(\"confirm_pwd\")} className={styles.textbox} type='text' placeholder='confirm Password'/>\r\n              <button className={styles.btn} type='submit'>Reset</button>\r\n            </div>\r\n            \r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Reset;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}