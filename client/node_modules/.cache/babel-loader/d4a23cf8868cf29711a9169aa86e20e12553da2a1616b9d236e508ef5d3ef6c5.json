{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { getUser, getUsername } from '../helper/helper';\naxios.defaults.baseURL = \"http://localhost:5500/user\";\n\n/** custom hook */\nexport default function useFetch(query) {\n  _s();\n  const [getData, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null\n  });\n  useEffect(() => {\n    if (!query) return;\n    const fetchData = async () => {\n      try {\n        setData(prev => ({\n          ...prev,\n          isLoading: true\n        }));\n        const {\n          username\n        } = !query ? await getUsername() : '';\n\n        //  const { data, status } = !query ? await getUser(username) : await getUser(query);\n\n        const {\n          data,\n          status\n        } = await getUser(query);\n        //  console.log(\"hook\"+data);\n        if (status === 201) {\n          setData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setData(prev => ({\n            ...prev,\n            apiData: data,\n            status: status\n          }));\n        }\n        setData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n      } catch (error) {\n        setData(prev => ({\n          ...prev,\n          isLoading: false,\n          serverError: error\n        }));\n      }\n    };\n    fetchData();\n  }, [query]);\n  console.log(\"ll\" + setData);\n  return [getData, setData];\n}\n_s(useFetch, \"o15tWQdQe0lVtIKOx9nvWv5XvY4=\");","map":{"version":3,"names":["axios","useEffect","useState","getUser","getUsername","defaults","baseURL","useFetch","query","_s","getData","setData","isLoading","apiData","undefined","status","serverError","fetchData","prev","username","data","error","console","log"],"sources":["A:/MERN/login_signup/client/src/hooks/fetch.hook.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getUser, getUsername } from '../helper/helper'\r\n\r\naxios.defaults.baseURL = \"http://localhost:5500/user\";\r\n\r\n\r\n\r\n/** custom hook */\r\nexport default function useFetch(query){\r\n    const [getData, setData] = useState({ isLoading : false, apiData: undefined, status: null, serverError: null })\r\n    \r\n    useEffect(() => {\r\n\r\n        if(!query) return;\r\n        const fetchData = async () => {\r\n            try {\r\n                setData(prev => ({ ...prev, isLoading: true}));\r\n\r\n                 const { username } = !query ? await getUsername() : '';\r\n                \r\n                //  const { data, status } = !query ? await getUser(username) : await getUser(query);\r\n                \r\n                 const { data, status } = await getUser(query);\r\n                //  console.log(\"hook\"+data);\r\n                 if(status === 201){\r\n                    setData(prev => ({ ...prev, isLoading: false}));\r\n                    setData(prev => ({ ...prev, apiData : data, status: status }));\r\n                }\r\n\r\n                setData(prev => ({ ...prev, isLoading: false}));\r\n            } catch (error) {\r\n                setData(prev => ({ ...prev, isLoading: false, serverError: error }))\r\n            }\r\n        };\r\n        fetchData()\r\n\r\n    }, [query]);\r\n    console.log(\"ll\"+setData);\r\n\r\n\r\n    return [getData, setData];\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,OAAO,EAAEC,WAAW,QAAQ,kBAAkB;AAEvDJ,KAAK,CAACK,QAAQ,CAACC,OAAO,GAAG,4BAA4B;;AAIrD;AACA,eAAe,SAASC,QAAQA,CAACC,KAAK,EAAC;EAAAC,EAAA;EACnC,MAAM,CAACC,OAAO,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC;IAAEU,SAAS,EAAG,KAAK;IAAEC,OAAO,EAAEC,SAAS;IAAEC,MAAM,EAAE,IAAI;IAAEC,WAAW,EAAE;EAAK,CAAC,CAAC;EAE/Gf,SAAS,CAAC,MAAM;IAEZ,IAAG,CAACO,KAAK,EAAE;IACX,MAAMS,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACAN,OAAO,CAACO,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE;QAAI,CAAC,CAAC,CAAC;QAE7C,MAAM;UAAEO;QAAS,CAAC,GAAG,CAACX,KAAK,GAAG,MAAMJ,WAAW,CAAC,CAAC,GAAG,EAAE;;QAEvD;;QAEC,MAAM;UAAEgB,IAAI;UAAEL;QAAO,CAAC,GAAG,MAAMZ,OAAO,CAACK,KAAK,CAAC;QAC9C;QACC,IAAGO,MAAM,KAAK,GAAG,EAAC;UACfJ,OAAO,CAACO,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEN,SAAS,EAAE;UAAK,CAAC,CAAC,CAAC;UAC/CD,OAAO,CAACO,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEL,OAAO,EAAGO,IAAI;YAAEL,MAAM,EAAEA;UAAO,CAAC,CAAC,CAAC;QAClE;QAEAJ,OAAO,CAACO,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE;QAAK,CAAC,CAAC,CAAC;MACnD,CAAC,CAAC,OAAOS,KAAK,EAAE;QACZV,OAAO,CAACO,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEN,SAAS,EAAE,KAAK;UAAEI,WAAW,EAAEK;QAAM,CAAC,CAAC,CAAC;MACxE;IACJ,CAAC;IACDJ,SAAS,CAAC,CAAC;EAEf,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EACXc,OAAO,CAACC,GAAG,CAAC,IAAI,GAACZ,OAAO,CAAC;EAGzB,OAAO,CAACD,OAAO,EAAEC,OAAO,CAAC;AAC7B;AAACF,EAAA,CAjCuBF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}